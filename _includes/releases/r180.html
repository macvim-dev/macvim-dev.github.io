<p>Updated to Vim 9.1.0727</p>

<nav>
<ul class="toc" id="markdown-toc">
  <li><a href="#r180-features" id="markdown-toc-r180-features">Features</a>    <ul>
      <li><a href="#r180-new-vim-features" id="markdown-toc-r180-new-vim-features">New Vim features</a></li>
      <li><a href="#r180-misc" id="markdown-toc-r180-misc">Misc</a></li>
    </ul>
  </li>
  <li><a href="#r180-general" id="markdown-toc-r180-general">General</a></li>
  <li><a href="#r180-fixes" id="markdown-toc-r180-fixes">Fixes</a></li>
  <li><a href="#r180-compatibility" id="markdown-toc-r180-compatibility">Compatibility</a></li>
</ul>

</nav>

<p>This update mostly syncs to new upstream Vim version, along with small fixes.</p>

<h1 id="r180-features">Features</h1>

<h2 id="r180-new-vim-features">New Vim features</h2>

<ul>
  <li>Vim now supports the XDG Base Directory Specification. You can now put your vimrc and plugins in <code>~/.config/vim</code> intsead of <code>~/.vim</code> / <code>~/.vimrc</code>. See <a href="https://macvim.org/docs/redirect.html?tag=xdg-base-dir"><code>:h xdg-base-dir</code></a>. <a href="https://github.com/vim/vim/commit/c9df1fb35a1866901c32df37dd39c8b39dbdb64a">v9.1.0327</a></li>
  <li>Auto completion
    <ul>
      <li>
        <p>Matched text in a completion popup menu will now be highlighted <a href="https://github.com/vim/vim/commit/40c1c3317d92f8c2adadf744fab72e4458e2a9fa">v9.1.0476</a></p>

        <p><img width="147" height="58" alt="image" src="https://github.com/user-attachments/assets/9dff8254-74ca-455d-b65e-50ed87e30961" /></p>
      </li>
      <li>Insert mode fuzzy completion (<code>:set completopt+=fuzzy</code>). <a href="https://github.com/vim/vim/commit/a218cc6cdabae1113647b817c4eefc2b60a6902f">v9.1.0463</a> / <a href="https://github.com/vim/vim/commit/8159fb18a92e9a9f5e35201bd92bf651f4d5835c">v9.1.0598</a></li>
    </ul>
  </li>
  <li>New options:
    <ul>
      <li><code>tabclose</code>: specifies tab closing behavior. <a href="https://github.com/vim/vim/commit/5247b0b92e191a046b034171a3b34031e317735f">v9.1.0572</a></li>
      <li><code>winfixbuf</code>: fixes a window to a buffer and prevent navigating away from it. <a href="https://github.com/vim/vim/commit/215703563757a4464907ead6fb9edaeb7f430bea">v9.1.0147</a></li>
    </ul>
  </li>
  <li>New functions:
    <ul>
      <li><code>getregion()</code> / <code>getregionpos()</code>: Helps retrieve the text selected in a visual selection. <a href="https://github.com/vim/vim/commit/3f905ab3c4f66562f4a224bf00f49d98a0b0da91">v9.1.0120</a> <a href="https://github.com/vim/vim/commit/19b718828d8d5fab52d94c6cdba694641879ab38">v9.1.0142</a> <a href="https://github.com/vim/vim/commit/b4757e627e6c83d1c8e5535d4887a82d6a5efdd0">v9.1.0394</a></li>
      <li><code>diff()</code>: Diff provided strings. <a href="https://github.com/vim/vim/commit/fa37835b8c0ed0f83952978fca4c332335ca7c46">v9.1.0071</a></li>
      <li><code>gettext()</code> / <code>bindtextdomain()</code>: Vim plugins can now add localized messages. <a href="https://github.com/vim/vim/commit/ce0ef910df837b9b961f007a0a35064cad85188b">v9.1.0509</a>.</li>
      <li><code>filecopy()</code>: Copy a file using Vim script. <a href="https://github.com/vim/vim/commit/60c8743ab6c90e402e6ed49d27455ef7e5698abe">v9.1.0465</a></li>
    </ul>
  </li>
  <li>New bundled optional plugins (use <code>packadd</code> to enable them):
    <ul>
      <li>comment: toggle code comments on/off. <a href="https://github.com/vim/vim/issues/14634">vim/vim#14634</a></li>
      <li>nohlsearch: simple package to automatically set <code>nohlsearch</code>. <a href="https://github.com/vim/vim/issues/15042">vim/vim#15042</a></li>
    </ul>
  </li>
  <li>Highlighting for diff files are back to normal. <a href="https://github.com/vim/vim/commit/124371c5a149a8c0c75c04b6c90ac11e71a0aa97">v9.1.0016</a></li>
  <li>Vim9 script improvements.</li>
  <li>Miscellaneous smoothscroll, termdebug, security fixes.</li>
  <li>Other platforms (these don’t affect MacVim and included for reference only):
    <ul>
      <li>GTK Vim GUI can now also use <code>&lt;D-...&gt;</code> to map super keys, similar to MacVim for its Cmd key mappings. This should allow sharing cross-platform configs easier. <a href="https://github.com/vim/vim/commit/92e90a1e102825aa9149262cacfc991264db05df">v9.1.0058</a></li>
      <li>Vim GUI now supports Wayland in Linux. <a href="https://github.com/vim/vim/commit/6e0a18f82bd04a45e9682523c42af9cbbc37684c">v9.1.0064</a></li>
    </ul>
  </li>
</ul>

<h2 id="r180-misc">Misc</h2>

<ul>
  <li>When resizing MacVim, the title bar’s message looks a little nicer now. <a href="https://github.com/macvim-dev/macvim/issues/1488">#1488</a> by @sfsam</li>
  <li>Copyright disclaimer in About MacVim no longer shows a year. <a href="https://github.com/macvim-dev/macvim/issues/1497">#1497</a></li>
</ul>

<h1 id="r180-general">General</h1>

<ul>
  <li>Sparkle (updater for MacVim) is now updated to 2.6.4. For legacy builds it’s now updated to 1.27.3.  <a href="https://github.com/macvim-dev/macvim/issues/1494">#1494</a></li>
</ul>

<h1 id="r180-fixes">Fixes</h1>

<ul>
  <li>Fixed dragging tabs to reorder them resulting in a crash. <a href="https://github.com/macvim-dev/macvim/issues/1499">#1499</a></li>
</ul>

<h1 id="r180-compatibility">Compatibility</h1>

<p>Requires macOS 10.9 or above. (10.9 - 10.12 requires downloading a separate legacy build)</p>

<p>Script interfaces have compatibility with these versions:</p>

<ul>
  <li>Lua 5.4</li>
  <li>Perl 5.30</li>
  <li>Python2 2.7</li>
  <li>Python3 3.9 or above</li>
  <li>Ruby 3.3</li>
</ul>
